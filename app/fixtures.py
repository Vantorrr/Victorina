from __future__ import annotations

from typing import Any, Dict, List


def _r1_single_questions() -> List[dict]:
    q: List[dict] = []

    # 1. Организация и контроль документооборота
    q.append({
        "type": "single",
        "text": "Организация и контроль документооборота — Средний. Какое из нижеперечисленных действий наиболее точно отражает работу Директора в документообороте?",
        "options": [
            "A. Регистрация входящих документов строго по шаблону.",
            "B. Уведомление руководства высшего уровня об истечении срока ключевого договора и организация его продления.",
            "C. Разработка ЛНА и внедрение ИАС.",
            "D. Автоматизация шаблонов договоров с помощью BI.",
        ],
        "correct_index": 1,
    })
    q.append({
        "type": "single",
        "text": "Организация и контроль документооборота — Продвинутый. Если Директор видит, что процесс согласования договора в подчинённой структуре занимает слишком много времени, какое действие он предпримет?",
        "options": [
            "A. Отправит напоминания ответственным по e‑mail.",
            "B. Переведёт согласование в электронный формат с автоматическими уведомлениями и контролем сроков.",
            "C. Установит новый принтер.",
            "D. Увеличит срок согласования.",
        ],
        "correct_index": 1,
    })
    q.append({
        "type": "single",
        "text": "Организация и контроль документооборота — Супер‑профи. Какое решение соответствует работе Директора в ситуации, когда филиалы используют разные форматы хранения договоров?",
        "options": [
            "A. Обучить сотрудников работе с шаблонами Word.",
            "B. Назначить ответственного за сбор ежемесячных отчётов.",
            "C. Разработать единый регламент документооборота для всей сети и внедрить интегрированную ИАС с аналитикой по контрактам.",
            "D. Пересылать сканы в главный офис по e‑mail.",
        ],
        "correct_index": 2,
    })

    # 2. Управление техническим состоянием объектов (+ экология)
    q.append({
        "type": "single",
        "text": "Управление техническим состоянием объектов — Средний. Что в наибольшей степени отражает действия Директора при жалобах на перебои с отоплением в подчинённых объектах?",
        "options": [
            "A. Передать жалобу вышестоящему руководству.",
            "B. Внести запись в журнал дефектов.",
            "C. Проверить график ТО, организовать выезд подрядчика и проконтролировать устранение проблемы.",
            "D. Разработать новый стандарт теплоизоляции.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Управление техническим состоянием объектов — Продвинутый. При росте затрат на электроэнергию в управляемых объектах, какое решение примет Директор?",
        "options": [
            "A. Провести переговоры с энергосбытом.",
            "B. Внедрить автоматическое управление освещением и систему учёта энергопотребления.",
            "C. Ограничить время работы лифтов.",
            "D. Перейти на дизельный генератор.",
        ],
        "correct_index": 1,
    })
    q.append({
        "type": "single",
        "text": "Управление техническим состоянием объектов — Супер‑профи. Введены новые городские требования по снижению углеродного следа зданий. Как поступит Директор?",
        "options": [
            "A. Обновит инструкцию по утилизации отходов.",
            "B. Интегрирует “зелёные” стандарты в стратегию техобслуживания всех объектов, включая внедрение новых технологий очистки и подготовку ESG‑отчётности.",
            "C. Закупит энергосберегающие лампочки.",
            "D. Проверит сроки договоров аренды.",
        ],
        "correct_index": 1,
    })

    # 3. Финансовое управление и бюджетирование
    q.append({
        "type": "single",
        "text": "Финансовое управление и бюджетирование — Средний. Какое действие выполнит Директор, если затраты на ремонт в подчинённом подразделении превысили бюджет на 10%?",
        "options": [
            "A. Проигнорирует ситуацию до конца года.",
            "B. Уведомит бухгалтерию.",
            "C. Проанализирует статьи затрат, согласует и внесёт корректировку бюджета.",
            "D. Разработает стратегию долгосрочного инвестирования.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Финансовое управление и бюджетирование — Продвинутый. Как поступит Директор, если нужно оценить экономическую эффективность крупного проекта на 5 лет?",
        "options": [
            "A. Учитывает только текущие затраты.",
            "B. Рассчитает NPV и IRR с учётом дисконтирования, на основе которых примет решение.",
            "C. Заполнит стандартную ведомость расходов.",
            "D. Запросит аванс у заказчика.",
        ],
        "correct_index": 1,
    })
    q.append({
        "type": "single",
        "text": "Финансовое управление и бюджетирование — Супер‑профи. Какое решение примет Директор в случае изменения ключевой ставки ЦБ, способного повлиять на инвестиционный портфель компании?",
        "options": [
            "A. Перераспределит бюджет одного отдела.",
            "B. Проанализирует влияние на все проекты, откорректирует стратегию инвестиций и перераспределит портфель для минимизации рисков.",
            "C. Отменит все ремонты.",
            "D. Остановит все новые проекты.",
        ],
        "correct_index": 1,
    })

    # 4. Правовое сопровождение (+ разработка ЛНА)
    q.append({
        "type": "single",
        "text": "Правовое сопровождение — Средний. Какое действие наиболее точно отражает работу Директора в области правового сопровождения?",
        "options": [
            "A. Проверить документы по чек‑листу.",
            "B. Выявить правовые риски в проекте договора, проконсультировать подразделение и обеспечить контроль соблюдения нормативов.",
            "C. Разработка сложных договоров и ведение судебных дел.",
            "D. Формирование стратегии правовой защиты компании.",
        ],
        "correct_index": 1,
    })
    q.append({
        "type": "single",
        "text": "Правовое сопровождение — Продвинутый. Если Директор получает запрос на нестандартный договор для сложного инвестиционного проекта, какое действие он предпримет?",
        "options": [
            "A. Использует типовой шаблон.",
            "B. Передаст юристу отдела без комментариев.",
            "C. Составит индивидуальный договор, учтёт интересы сторон, согласует с госорганами и организациями, включая страховые компании.",
            "D. Ограничится устными договорённостями.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Правовое сопровождение — Супер‑профи. Как поступит Директор, чтобы минимизировать правовые и договорные риски компании на долгосрочном горизонте?",
        "options": [
            "A. Проверит раз в год юридические документы.",
            "B. Делегирует проверки только юристам отдела.",
            "C. Сформирует стратегию правовой защиты организации, разработает локальные нормативные акты и стандарты правовой работы.",
            "D. Будет реагировать только на уже возникшие судебные иски.",
        ],
        "correct_index": 2,
    })

    # 5. Работа с арендаторами и контрагентами
    q.append({
        "type": "single",
        "text": "Работа с арендаторами — Средний. Какое действие характерно для Директора при взаимодействии с арендаторами?",
        "options": [
            "A. Только проводит показы помещений.",
            "B. Поручает переговоры менеджерам без личного участия.",
            "C. Самостоятельно ведёт ключевые переговоры, разрешает конфликты и организует маркетинговые активности по привлечению арендаторов.",
            "D. Формирует стратегию взаимодействия на уровне группы компаний.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Работа с арендаторами — Продвинутый. Какое действие соответствует Директору при падении заполняемости объекта?",
        "options": [
            "A. Ждёт входящих заявок.",
            "B. Проводит только ценовые скидки.",
            "C. Разрабатывает и запускает рекламную кампанию, повышает привлекательность объекта и активно расширяет базу клиентов.",
            "D. Закрывает часть площадей.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Работа с арендаторами — Супер‑профи. Какое действие предпримет Директор, чтобы системно улучшить взаимоотношения с арендаторами сети объектов?",
        "options": [
            "A. Ведёт переговоры с проблемными арендаторами.",
            "B. Устанавливает временные скидки.",
            "C. Формирует долгосрочную стратегию взаимодействия, внедряет стандарты качества сервиса и управляет работой профильного отдела.",
            "D. Раз в год проводит опрос удовлетворённости.",
        ],
        "correct_index": 2,
    })

    # 6. Использование цифровых технологий и BI‑инструментов
    q.append({
        "type": "single",
        "text": "Цифровые технологии — Средний. Что делает Директор для повышения эффективности управления через цифровые технологии?",
        "options": [
            "A. Вносит данные в систему по инструкции.",
            "B. Пользуется только электронной почтой.",
            "C. Самостоятельно анализирует данные в BI, интегрирует сведения из разных систем для поддержки управленческих решений.",
            "D. Разрабатывает архитектуру информационной системы.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Цифровые технологии — Продвинутый. Какое решение соответствует Директору в цифровизации процессов управления?",
        "options": [
            "A. Пользуется стандартной отчётностью, не изменяя систему.",
            "B. Делегирует работу с системами только IT‑отделу.",
            "C. Внедряет новые цифровые технологии, обучает персонал эффективному их использованию.",
            "D. Ожидает обновлений от поставщика ПО.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Цифровые технологии — Супер‑профи. Что предпримет Директор для развития цифровой инфраструктуры компании?",
        "options": [
            "A. Перейдёт на облачное хранение файлов.",
            "B. Закупит новые компьютеры.",
            "C. Разработает цифровую стратегию и архитектуру ИАС, интегрирует её с управленческими и аналитическими процессами организации.",
            "D. Установит корпоративный мессенджер.",
        ],
        "correct_index": 2,
    })

    # 7. Управленческие компетенции (+ управление рисками)
    q.append({
        "type": "single",
        "text": "Управленческие компетенции — Средний. Как действует Директор при постановке задач?",
        "options": [
            "A. Выполняет поручения старшего руководства без планирования.",
            "B. Даёт общие указания.",
            "C. Чётко формулирует задачи подчинённым, контролирует сроки и качество выполнения, мотивирует команду.",
            "D. Разрабатывает стратегию развития компании.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Управленческие компетенции — Продвинутый. Что сделает Директор, чтобы минимизировать операционные риски при реализации проекта?",
        "options": [
            "A. Исключит рискованные задачи.",
            "B. Переложит ответственность на подрядчика.",
            "C. Сформирует команду, спрогнозирует ключевые риски, синхронизирует работу подразделений.",
            "D. Откажется от проекта при первых трудностях.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Управленческие компетенции — Супер‑профи. Как поступит Директор для интеграции риск‑менеджмента в стратегию компании?",
        "options": [
            "A. Будет реагировать на проблемы по мере их появления.",
            "B. Поручит анализ рисков службе безопасности.",
            "C. Определит стратегические цели, внедрит методы управления рисками на всех этапах жизненного цикла объектов, разработает регламенты и ЛНА.",
            "D. Сфокусируется только на финансовых рисках.",
        ],
        "correct_index": 2,
    })

    # 8. Навыки коммуникации и переговоров (+ публичные консультации)
    q.append({
        "type": "single",
        "text": "Коммуникации и переговоры — Средний. Какое действие характеризует Директора при переговорах с подрядчиком по спорной ситуации?",
        "options": [
            "A. Избегает личного участия.",
            "B. Пересылает претензию по e‑mail.",
            "C. Аргументированно отстаивает позицию компании и добивается взаимоприемлемого решения.",
            "D. Организует массовую PR‑кампанию.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Коммуникации и переговоры — Продвинутый. Какое действие предпримет Директор для привлечения крупного инвестора?",
        "options": [
            "A. Направит рекламную брошюру.",
            "B. Поручит переговоры юристу.",
            "C. Проведёт серию сложных встреч, подготовит предложение и обеспечит сопровождение сделки.",
            "D. Ограничится коротким звонком.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Коммуникации и переговоры — Супер‑профи. Как поступит Директор для формирования позитивного общественного образа компании перед запуском крупного инфраструктурного проекта?",
        "options": [
            "A. Опубликует пресс‑релиз.",
            "B. Даст интервью в СМИ.",
            "C. Разработает комплексную коммуникационную стратегию, проведёт публичные консультации и выстроит долгосрочные отношения с ключевыми группами.",
            "D. Будет отвечать только на официальные запросы.",
        ],
        "correct_index": 2,
    })

    # 9. Безопасность и охрана труда
    q.append({
        "type": "single",
        "text": "Безопасность и ОТ — Средний. Какое действие предпримет Директор при выявлении нарушений охраны труда на объекте?",
        "options": [
            "A. Лично устранит проблему.",
            "B. Сообщит в вышестоящую организацию.",
            "C. Организует проверку в подразделении, проведёт инструктаж и обеспечит устранение нарушений.",
            "D. Ожидает плановой проверки.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Безопасность и ОТ — Продвинутый. Какое действие соответствует Директору в сфере безопасности?",
        "options": [
            "A. Проводит формальные инструктажи.",
            "B. Делегирует всё инженеру по охране труда.",
            "C. Разрабатывает локальные инструкции, организует обучение и координирует действия при аварийных ситуациях.",
            "D. Рассматривает безопасность как формальность.",
        ],
        "correct_index": 2,
    })
    q.append({
        "type": "single",
        "text": "Безопасность и ОТ — Супер‑профи. Как действует Директор для создания устойчивой системы безопасности в организации?",
        "options": [
            "A. Повышает частоту проверок.",
            "B. Закупает новое оборудование.",
            "C. Формирует и внедряет комплексную систему управления охраной труда и промышленной безопасностью, анализирует риски и разрабатывает стратегические планы повышения безопасности.",
            "D. Реагирует только на ЧП.",
        ],
        "correct_index": 2,
    })

    return q


def _r2_cases() -> List[dict]:
    return [
        {
            "type": "case",
            "text": "Кейс 1: ИнвестСтройГрупп — Какие действия вы, как директор, предпримете? (можно выбрать несколько)",
            "options": [
                "A. Лично вносить данные в систему по инструкции.",
                "B. Использовать BI для анализа данных о работе подразделений и принятия решений.",
                "C. Закупить новое оборудование, оставить текущие цифровые процессы без изменений.",
                "D. Внедрить новые цифровые технологии и организовать обучение сотрудников.",
                "E. Разработать цифровую стратегию компании, интегрировать ИАС с управленческими процессами.",
            ],
            "scoring": {"A": 0.5, "B": 1, "C": 0.5, "D": 1.5, "E": 2},
        },
        {
            "type": "case",
            "text": "Кейс 2: Панорама Плаза — Какие ваши возможные действия? (можно выбрать несколько)",
            "options": [
                "A. Ждать, пока арендаторы сами обратятся с заявками.",
                "B. Самостоятельно провести ключевые переговоры и урегулировать конфликты.",
                "C. Разработать и запустить рекламную кампанию по продвижению объекта.",
                "D. Закрыть часть площадей на неопределённый срок.",
                "E. Создать долгосрочную стратегию взаимодействия, внедрить стандарты качества сервиса и управлять профильным отделом.",
            ],
            "scoring": {"A": 0, "B": 1, "C": 1.5, "D": 0, "E": 2},
        },
        {
            "type": "case",
            "text": "Кейс 3: Деловые здания — Какие меры вы предпримете? (можно выбрать несколько)",
            "options": [
                "A. Провести переговоры с энергосбытовой компанией для получения скидок.",
                "B. Внедрить автоматическое управление освещением и систему учёта энергопотребления.",
                "C. Ограничить время работы лифтов для экономии электроэнергии.",
                "D. Обновить инструкции по утилизации отходов.",
                "E. Интегрировать ‘зелёные’ стандарты в стратегию техобслуживания всей сети объектов, включая ESG‑отчётность и внедрение инновационных технологий.",
            ],
            "scoring": {"A": 1, "B": 1.5, "C": 0, "D": 1, "E": 2},
        },
    ]


def build_default_fixture() -> Dict[str, Any]:
    return {
        "game_name": "Викторина",
        "rounds": [
            {"number": 1, "questions": _r1_single_questions()},
            {"number": 2, "questions": _r2_cases()},
        ],
    }


